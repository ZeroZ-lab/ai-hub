# Module 1 - æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜

> æœ¬æ–‡æ¡£æ€»ç»“å¼€å‘ Claude Agent çš„å®æˆ˜ç»éªŒï¼Œå¸®åŠ©ä½ é¿å…å¸¸è§é”™è¯¯ï¼Œå†™å‡ºé«˜è´¨é‡ä»£ç ã€‚

---

## å¸¸è§é™·é˜±

### é™·é˜± 1ï¼šAPI Key æ³„éœ²

**é—®é¢˜æè¿°**ï¼š
æœ€å¸¸è§ä¹Ÿæœ€å±é™©çš„é”™è¯¯â€”â€”å°† API Key ç›´æ¥å†™åœ¨ä»£ç ä¸­æˆ–æäº¤åˆ° Gitã€‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```python
# âŒ å±é™©ï¼æ°¸è¿œä¸è¦è¿™æ ·åš
client = Anthropic(api_key="sk-ant-api03-xxxxx")

# âŒ ä¹Ÿä¸è¦è¿™æ ·
API_KEY = "sk-ant-api03-xxxxx"  # ç¡¬ç¼–ç 
```

**ä¸ºä»€ä¹ˆæœ‰é—®é¢˜**ï¼š
1. ä»£ç æäº¤åˆ° GitHub åï¼ŒAPI Key ä¼šè¢«çˆ¬è™«æ‰«æ
2. å³ä½¿åˆ é™¤æäº¤ï¼ŒGit å†å²ä¸­ä»ç„¶å­˜åœ¨
3. å¯èƒ½å¯¼è‡´ API é¢åº¦è¢«ç›—ç”¨

**æ­£ç¡®åšæ³•**ï¼š
```python
# âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡
import os
from dotenv import load_dotenv

load_dotenv()
api_key = os.getenv("ANTHROPIC_API_KEY")

if not api_key:
    raise ValueError("è¯·åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½® ANTHROPIC_API_KEY")

client = Anthropic(api_key=api_key)
```

**é¢å¤–å®‰å…¨æªæ–½**ï¼š
```bash
# ç¡®ä¿ .env åœ¨ .gitignore ä¸­
echo ".env" >> .gitignore
echo "*.key" >> .gitignore

# æ£€æŸ¥æ˜¯å¦æ„å¤–æäº¤
git status
```

---

### é™·é˜± 2ï¼šå¿½ç•¥é”™è¯¯å¤„ç†

**é—®é¢˜æè¿°**ï¼š
ç›´æ¥è°ƒç”¨ API è€Œä¸å¤„ç†å¼‚å¸¸ï¼Œå¯¼è‡´ç¨‹åºåœ¨ç½‘ç»œé—®é¢˜æˆ–é™æµæ—¶å´©æºƒã€‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```python
# âŒ æ²¡æœ‰é”™è¯¯å¤„ç†
response = client.messages.create(
    model="claude-3-5-sonnet-20241022",
    max_tokens=1024,
    messages=[{"role": "user", "content": "Hello"}]
)
print(response.content[0].text)  # å¦‚æœå¤±è´¥ï¼Œç¨‹åºç›´æ¥å´©æºƒ
```

**æ­£ç¡®åšæ³•**ï¼š
```python
# âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
from anthropic import APIError, RateLimitError, APIConnectionError
import time

def safe_api_call(client, messages, max_retries=3):
    """å¸¦é‡è¯•æœºåˆ¶çš„ API è°ƒç”¨"""
    for attempt in range(max_retries):
        try:
            response = client.messages.create(
                model="claude-3-5-sonnet-20241022",
                max_tokens=1024,
                messages=messages
            )
            return response.content[0].text

        except RateLimitError:
            # é‡åˆ°é™æµï¼ŒæŒ‡æ•°é€€é¿
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt
                print(f"é™æµï¼Œç­‰å¾… {wait_time} ç§’...")
                time.sleep(wait_time)
            else:
                print("è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°")
                raise

        except APIConnectionError as e:
            print(f"ç½‘ç»œé”™è¯¯: {e}")
            if attempt < max_retries - 1:
                time.sleep(1)
            else:
                raise

        except APIError as e:
            print(f"API é”™è¯¯: {e}")
            raise

# ä½¿ç”¨
try:
    result = safe_api_call(client, messages)
    print(result)
except Exception as e:
    print(f"æœ€ç»ˆå¤±è´¥: {e}")
```

---

### é™·é˜± 3ï¼šå¯¹è¯å†å²æ— é™å¢é•¿

**é—®é¢˜æè¿°**ï¼š
ä¸æ¸…ç†å¯¹è¯å†å²ï¼Œå¯¼è‡´ Token æ¶ˆè€—æš´å¢ï¼Œæˆæœ¬å¤±æ§ã€‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```python
# âŒ å†å²æ— é™å¢é•¿
class BadAgent:
    def __init__(self):
        self.history = []

    def chat(self, message):
        self.history.append({"role": "user", "content": message})
        response = client.messages.create(messages=self.history)
        # å‡ ç™¾è½®å¯¹è¯åï¼Œæ¯æ¬¡è°ƒç”¨æ¶ˆè€—ä¸Šä¸‡ tokens
        self.history.append({"role": "assistant", "content": response.content[0].text})
        return response.content[0].text
```

**æ­£ç¡®åšæ³•**ï¼š
```python
# âœ… é™åˆ¶å†å²é•¿åº¦
class SmartAgent:
    def __init__(self, max_history=20):
        self.history = []
        self.max_history = max_history

    def chat(self, message):
        # æ·»åŠ æ–°æ¶ˆæ¯
        self.history.append({"role": "user", "content": message})

        # ä¿ç•™æœ€è¿‘çš„å¯¹è¯
        if len(self.history) > self.max_history:
            # ä¿ç•™ç³»ç»Ÿæ¶ˆæ¯ï¼ˆå¦‚æœæœ‰ï¼‰+ æœ€è¿‘çš„å¯¹è¯
            self.history = self.history[-self.max_history:]

        response = client.messages.create(messages=self.history)
        assistant_msg = response.content[0].text

        self.history.append({"role": "assistant", "content": assistant_msg})

        return assistant_msg
```

**è¿›é˜¶ï¼šæ»‘åŠ¨çª—å£ + æ‘˜è¦**
```python
class AdvancedAgent:
    def __init__(self):
        self.recent_history = []  # æœ€è¿‘çš„å¯¹è¯
        self.summary = None       # æ—§å¯¹è¯çš„æ‘˜è¦

    def chat(self, message):
        # å½“å†å²è¿‡é•¿æ—¶ï¼Œæ€»ç»“æ—§å†…å®¹
        if len(self.recent_history) > 30:
            old_history = self.recent_history[:20]
            self.summary = self._summarize(old_history)
            self.recent_history = self.recent_history[20:]

        # æ„å»ºæ¶ˆæ¯ï¼šæ‘˜è¦ + è¿‘æœŸå†å² + æ–°æ¶ˆæ¯
        messages = []
        if self.summary:
            messages.append({"role": "user", "content": f"å†å²æ‘˜è¦ï¼š{self.summary}"})
        messages.extend(self.recent_history)
        messages.append({"role": "user", "content": message})

        # ... è°ƒç”¨ API
```

---

### é™·é˜± 4ï¼šä¸éªŒè¯å“åº”æ ¼å¼

**é—®é¢˜æè¿°**ï¼š
å‡è®¾ API æ€»æ˜¯è¿”å›é¢„æœŸæ ¼å¼ï¼Œå¯¼è‡´å¶å‘æ€§é”™è¯¯ã€‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```python
# âŒ ç›´æ¥è®¿é—®ï¼Œå¯èƒ½ IndexError
response = client.messages.create(...)
text = response.content[0].text  # å¦‚æœ content ä¸ºç©ºï¼Ÿ
```

**æ­£ç¡®åšæ³•**ï¼š
```python
# âœ… éªŒè¯å“åº”
def extract_text(response):
    """å®‰å…¨æå–å“åº”æ–‡æœ¬"""
    if not response.content:
        raise ValueError("å“åº”å†…å®¹ä¸ºç©º")

    if len(response.content) == 0:
        raise ValueError("å“åº”å†…å®¹åˆ—è¡¨ä¸ºç©º")

    first_block = response.content[0]

    if not hasattr(first_block, 'text'):
        raise ValueError(f"å†…å®¹å—ç±»å‹é”™è¯¯: {type(first_block)}")

    return first_block.text

# ä½¿ç”¨
try:
    response = client.messages.create(...)
    text = extract_text(response)
except ValueError as e:
    print(f"å“åº”æ ¼å¼é”™è¯¯: {e}")
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. å‡å°‘ Token æ¶ˆè€—

#### ç²¾ç®€æç¤ºè¯
```python
# âŒ å†—é•¿çš„æç¤º
prompt = """
ä½ æ˜¯ä¸€ä¸ªéå¸¸å‹å¥½ã€çƒ­æƒ…ã€ä¹äºåŠ©äººçš„ AI åŠ©æ‰‹ã€‚
è¯·ä½ åŠ¡å¿…ä½¿ç”¨ç®€æ´æ˜äº†çš„è¯­è¨€å›ç­”é—®é¢˜ã€‚
åœ¨å›ç­”æ—¶ï¼Œè¯·æ³¨æ„è¯­æ°”è¦æ¸©å’Œï¼Œè¡¨è¾¾è¦æ¸…æ™°...
[å¾ˆé•¿çš„è¯´æ˜]
"""

# âœ… ç®€æ´çš„æç¤º
prompt = "ä½ æ˜¯ä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œæä¾›ç®€æ´å‡†ç¡®çš„æŠ€æœ¯å»ºè®®ã€‚"
```

#### åˆç†è®¾ç½® max_tokens
```python
# æ ¹æ®å®é™…éœ€æ±‚è®¾ç½®
response = client.messages.create(
    max_tokens=512,   # çŸ­å›ç­”ï¼ˆé—®ç­”ã€æ‘˜è¦ï¼‰
    # max_tokens=2048,  # ä¸­ç­‰é•¿åº¦ï¼ˆè§£é‡Šã€æ•™å­¦ï¼‰
    # max_tokens=4096,  # é•¿æ–‡æœ¬ï¼ˆç”Ÿæˆä»£ç ã€æ–‡ç« ï¼‰
    ...
)
```

#### é¿å…é‡å¤ä¿¡æ¯
```python
# âŒ æ¯æ¬¡éƒ½å‘é€å®Œæ•´çš„èƒŒæ™¯
messages = [
    {"role": "user", "content": "è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„èƒŒæ™¯è¯´æ˜..."},
    {"role": "assistant", "content": "..."},
    {"role": "user", "content": "è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„èƒŒæ™¯è¯´æ˜..."},  # é‡å¤ï¼
]

# âœ… èƒŒæ™¯åªå‘é€ä¸€æ¬¡
messages = [
    {"role": "user", "content": "èƒŒæ™¯ï¼šè¿™æ˜¯é¡¹ç›®è¯´æ˜..."},
    {"role": "assistant", "content": "ç†è§£äº†"},
    {"role": "user", "content": "åŸºäºä¸Šè¿°èƒŒæ™¯ï¼Œè¯·..."},  # å¼•ç”¨
]
```

---

### 2. ç¼“å­˜å¸¸ç”¨å“åº”

å¯¹äºé‡å¤çš„æŸ¥è¯¢ï¼Œå®ç°ç®€å•ç¼“å­˜ï¼š

```python
from functools import lru_cache
import hashlib

class CachedAgent:
    def __init__(self):
        self.cache = {}

    def _get_cache_key(self, messages):
        """ç”Ÿæˆç¼“å­˜é”®"""
        # å°†æ¶ˆæ¯åˆ—è¡¨åºåˆ—åŒ–
        msg_str = str(messages)
        return hashlib.md5(msg_str.encode()).hexdigest()

    def chat(self, messages):
        """å¸¦ç¼“å­˜çš„èŠå¤©"""
        cache_key = self._get_cache_key(messages)

        # æ£€æŸ¥ç¼“å­˜
        if cache_key in self.cache:
            print("ğŸ“¦ ä½¿ç”¨ç¼“å­˜")
            return self.cache[cache_key]

        # è°ƒç”¨ API
        print("ğŸŒ è°ƒç”¨ API")
        response = client.messages.create(
            model="claude-3-5-sonnet-20241022",
            max_tokens=1024,
            messages=messages
        )

        result = response.content[0].text

        # å­˜å…¥ç¼“å­˜
        self.cache[cache_key] = result
        return result
```

---

### 3. æ‰¹é‡å¤„ç†

å½“éœ€è¦å¤„ç†å¤šä¸ªç‹¬ç«‹è¯·æ±‚æ—¶ï¼Œä½¿ç”¨å¼‚æ­¥ï¼š

```python
import asyncio
from anthropic import AsyncAnthropic

async def process_batch(prompts: list[str]):
    """æ‰¹é‡å¤„ç†å¤šä¸ªè¯·æ±‚"""
    client = AsyncAnthropic(api_key=os.getenv("ANTHROPIC_API_KEY"))

    async def process_one(prompt):
        response = await client.messages.create(
            model="claude-3-5-sonnet-20241022",
            max_tokens=512,
            messages=[{"role": "user", "content": prompt}]
        )
        return response.content[0].text

    # å¹¶å‘æ‰§è¡Œï¼ˆæ³¨æ„ API é™æµï¼‰
    tasks = [process_one(p) for p in prompts]
    results = await asyncio.gather(*tasks)
    return results

# ä½¿ç”¨
prompts = ["é—®é¢˜1", "é—®é¢˜2", "é—®é¢˜3"]
results = asyncio.run(process_batch(prompts))
```

---

## è°ƒè¯•æŠ€å·§

### 1. è¯¦ç»†æ—¥å¿—

```python
import logging
from datetime import datetime

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler(f'agent_{datetime.now():%Y%m%d}.log'),
        logging.StreamHandler()
    ]
)
logger = logging.getLogger(__name__)

def chat_with_log(message):
    """å¸¦æ—¥å¿—çš„èŠå¤©"""
    logger.info(f"ç”¨æˆ·è¾“å…¥: {message}")

    try:
        response = client.messages.create(...)
        logger.debug(f"API å“åº”: {response.model_dump()}")
        logger.info(f"Token ä½¿ç”¨: {response.usage}")

        result = response.content[0].text
        logger.info(f"åŠ©æ‰‹å›å¤: {result[:100]}...")

        return result

    except Exception as e:
        logger.error(f"é”™è¯¯: {e}", exc_info=True)
        raise
```

---

### 2. Token ç›‘æ§

```python
class TokenTracker:
    """Token ä½¿ç”¨è¿½è¸ªå™¨"""
    def __init__(self):
        self.total_input = 0
        self.total_output = 0
        self.requests = 0

    def track(self, response):
        """è®°å½•å•æ¬¡è¯·æ±‚"""
        usage = response.usage
        self.total_input += usage.input_tokens
        self.total_output += usage.output_tokens
        self.requests += 1

        print(f"\nğŸ“Š Token ä½¿ç”¨ç»Ÿè®¡:")
        print(f"  æœ¬æ¬¡: {usage.input_tokens} in + {usage.output_tokens} out")
        print(f"  ç´¯è®¡: {self.total_input} in + {self.total_output} out")
        print(f"  æ€»è®¡: {self.total_input + self.total_output} tokens ({self.requests} æ¬¡è¯·æ±‚)")
        print(f"  å¹³å‡: {(self.total_input + self.total_output) / self.requests:.0f} tokens/è¯·æ±‚")

# ä½¿ç”¨
tracker = TokenTracker()
response = client.messages.create(...)
tracker.track(response)
```

---

### 3. è¯·æ±‚/å“åº”è°ƒè¯•

```python
def debug_api_call(messages):
    """è°ƒè¯• API è°ƒç”¨"""
    import json

    print("\n" + "="*60)
    print("ğŸ“¤ å‘é€è¯·æ±‚")
    print("="*60)
    print(json.dumps(messages, indent=2, ensure_ascii=False))

    response = client.messages.create(
        model="claude-3-5-sonnet-20241022",
        max_tokens=1024,
        messages=messages
    )

    print("\n" + "="*60)
    print("ğŸ“¥ æ¥æ”¶å“åº”")
    print("="*60)
    print(json.dumps(response.model_dump(), indent=2, ensure_ascii=False))

    return response
```

---

## å¼€å‘ç¯å¢ƒæœ€ä½³å®è·µ

### 1. ä½¿ç”¨ .env ç®¡ç†é…ç½®

```bash
# .env æ–‡ä»¶
ANTHROPIC_API_KEY=sk-ant-...
MODEL_NAME=claude-3-5-sonnet-20241022
MAX_TOKENS=1024
TEMPERATURE=1.0
LOG_LEVEL=INFO
```

```python
# config.py
import os
from dotenv import load_dotenv

load_dotenv()

class Config:
    API_KEY = os.getenv("ANTHROPIC_API_KEY")
    MODEL = os.getenv("MODEL_NAME", "claude-3-5-sonnet-20241022")
    MAX_TOKENS = int(os.getenv("MAX_TOKENS", "1024"))
    TEMPERATURE = float(os.getenv("TEMPERATURE", "1.0"))
    LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")

# ä½¿ç”¨
from config import Config

client = Anthropic(api_key=Config.API_KEY)
```

---

### 2. ä½¿ç”¨ Type Hints

```python
from typing import List, Dict, Optional
from anthropic import Anthropic

def chat(
    client: Anthropic,
    messages: List[Dict[str, str]],
    model: str = "claude-3-5-sonnet-20241022",
    max_tokens: int = 1024
) -> str:
    """å‘é€æ¶ˆæ¯å¹¶è·å–å“åº”

    Args:
        client: Anthropic å®¢æˆ·ç«¯
        messages: å¯¹è¯å†å²
        model: æ¨¡å‹åç§°
        max_tokens: æœ€å¤§ token æ•°

    Returns:
        åŠ©æ‰‹çš„å›å¤æ–‡æœ¬
    """
    response = client.messages.create(
        model=model,
        max_tokens=max_tokens,
        messages=messages
    )
    return response.content[0].text
```

---

### 3. å•å…ƒæµ‹è¯•

```python
import unittest
from unittest.mock import Mock, patch

class TestAgent(unittest.TestCase):
    """Agent å•å…ƒæµ‹è¯•"""

    @patch('anthropic.Anthropic')
    def test_chat(self, mock_anthropic):
        """æµ‹è¯•èŠå¤©åŠŸèƒ½"""
        # è®¾ç½® Mock
        mock_response = Mock()
        mock_response.content = [Mock(text="Hello!")]
        mock_response.usage = Mock(input_tokens=10, output_tokens=5)

        mock_client = Mock()
        mock_client.messages.create.return_value = mock_response
        mock_anthropic.return_value = mock_client

        # æµ‹è¯•
        from my_agent import Agent
        agent = Agent(api_key="test-key")
        result = agent.chat("Hi")

        # æ–­è¨€
        self.assertEqual(result, "Hello!")
        mock_client.messages.create.assert_called_once()

if __name__ == "__main__":
    unittest.main()
```

---

## å¸¸è§é—®é¢˜ FAQ

### Q1: ä¸ºä»€ä¹ˆå“åº”å¾ˆæ…¢ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. ç½‘ç»œé—®é¢˜
2. max_tokens è®¾ç½®å¤ªå¤§
3. è¾“å…¥ prompt å¤ªé•¿
4. API è´Ÿè½½é«˜å³°æœŸ

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# 1. æ·»åŠ è¶…æ—¶
import httpx

client = Anthropic(
    api_key=api_key,
    timeout=httpx.Timeout(30.0)  # 30ç§’è¶…æ—¶
)

# 2. å‡å° max_tokens
response = client.messages.create(max_tokens=512, ...)

# 3. ç²¾ç®€è¾“å…¥
```

---

### Q2: å¦‚ä½•æ§åˆ¶æˆæœ¬ï¼Ÿ

**ç­–ç•¥**ï¼š
1. **é€‰æ‹©åˆé€‚çš„æ¨¡å‹**
   - ç®€å•ä»»åŠ¡ï¼š`claude-3-haiku`ï¼ˆä¾¿å®œï¼‰
   - å¤æ‚ä»»åŠ¡ï¼š`claude-3-5-sonnet`ï¼ˆå¹³è¡¡ï¼‰
   - æœ€é«˜è´¨é‡ï¼š`claude-3-opus`ï¼ˆæ˜‚è´µï¼‰

2. **é™åˆ¶ Token ä½¿ç”¨**
```python
# æˆæœ¬è¿½è¸ª
class CostTracker:
    PRICING = {  # USD per 1M tokens
        "claude-3-5-sonnet-20241022": {"input": 3.0, "output": 15.0},
        "claude-3-haiku-20240307": {"input": 0.25, "output": 1.25},
    }

    def calculate_cost(self, model, input_tokens, output_tokens):
        pricing = self.PRICING.get(model, {"input": 0, "output": 0})
        cost = (input_tokens * pricing["input"] / 1_000_000 +
                output_tokens * pricing["output"] / 1_000_000)
        return cost

tracker = CostTracker()
cost = tracker.calculate_cost("claude-3-5-sonnet-20241022", 1000, 500)
print(f"æœ¬æ¬¡æˆæœ¬: ${cost:.4f}")
```

3. **è®¾ç½®æ¯æ—¥é™é¢**
```python
class BudgetLimiter:
    def __init__(self, daily_limit_usd=1.0):
        self.daily_limit = daily_limit_usd
        self.today_cost = 0.0

    def check_budget(self, estimated_cost):
        if self.today_cost + estimated_cost > self.daily_limit:
            raise ValueError(f"è¶…å‡ºæ¯æ—¥é¢„ç®— ${self.daily_limit}")
        self.today_cost += estimated_cost
```

---

### Q3: å¦‚ä½•å¤„ç†æ•æ„Ÿä¿¡æ¯ï¼Ÿ

```python
import re

def sanitize_input(text: str) -> str:
    """æ¸…ç†æ•æ„Ÿä¿¡æ¯"""
    # ç§»é™¤é‚®ç®±
    text = re.sub(r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b',
                  '[EMAIL]', text)

    # ç§»é™¤ç”µè¯å·ç 
    text = re.sub(r'\b\d{3}[-.]?\d{3}[-.]?\d{4}\b', '[PHONE]', text)

    # ç§»é™¤èº«ä»½è¯å·
    text = re.sub(r'\b\d{17}[\dX]\b', '[ID_CARD]', text)

    return text

# ä½¿ç”¨
user_input = sanitize_input(user_raw_input)
response = client.messages.create(
    messages=[{"role": "user", "content": user_input}]
)
```

---

## ç”Ÿäº§ç¯å¢ƒæ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰ç¡®ä¿ï¼š

### ä»£ç è´¨é‡
- [ ] æ‰€æœ‰å‡½æ•°æœ‰ Type Hints
- [ ] æ‰€æœ‰å…¬å¼€å‡½æ•°æœ‰ Docstring
- [ ] éµå¾ª PEP 8ï¼ˆä½¿ç”¨ `black` æ ¼å¼åŒ–ï¼‰
- [ ] é€šè¿‡å•å…ƒæµ‹è¯•

### å®‰å…¨æ€§
- [ ] API Key åœ¨ç¯å¢ƒå˜é‡ä¸­
- [ ] `.env` å·²åŠ å…¥ `.gitignore`
- [ ] è¾“å…¥éªŒè¯å·²å®ç°
- [ ] æ•æ„Ÿä¿¡æ¯å·²è¿‡æ»¤

### ç¨³å®šæ€§
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- [ ] æ·»åŠ äº†è¶…æ—¶æ§åˆ¶
- [ ] å®ç°äº†æ—¥å¿—è®°å½•
- [ ] æœ‰ç›‘æ§å‘Šè­¦

### æ€§èƒ½
- [ ] Token ä½¿ç”¨å·²ä¼˜åŒ–
- [ ] å®ç°äº†å¿…è¦çš„ç¼“å­˜
- [ ] æˆæœ¬è¿½è¸ªå·²éƒ¨ç½²
- [ ] è´Ÿè½½æµ‹è¯•å·²é€šè¿‡

---

## æ¨èå·¥å…·

### å¼€å‘å·¥å…·
- **uv**: Python åŒ…ç®¡ç†å™¨
- **Black**: ä»£ç æ ¼å¼åŒ–
- **Ruff**: ä»£ç æ£€æŸ¥
- **pytest**: æµ‹è¯•æ¡†æ¶

### ç›‘æ§å·¥å…·
- **Loguru**: æ›´å¥½çš„æ—¥å¿—åº“
- **Rich**: ç¾åŒ–ç»ˆç«¯è¾“å‡º

```python
# ä½¿ç”¨ Rich ç¾åŒ–è¾“å‡º
from rich.console import Console
from rich.table import Table

console = Console()

table = Table(title="Token ä½¿ç”¨ç»Ÿè®¡")
table.add_column("æŒ‡æ ‡", style="cyan")
table.add_column("æ•°å€¼", style="magenta")

table.add_row("è¾“å…¥ Tokens", "1,234")
table.add_row("è¾“å‡º Tokens", "567")
table.add_row("æ€»æˆæœ¬", "$0.0234")

console.print(table)
```

---

## ä¸‹ä¸€æ­¥

âœ… æŒæ¡æœ€ä½³å®è·µåï¼š
- å‰å¾€ [projects/](../projects/) ç›®å½•å®Œæˆå®æˆ˜é¡¹ç›®
- å¼€å§‹å­¦ä¹  [Module 2](../../module_02_core_tools/) - åŸºç¡€å·¥å…·

ğŸ’¡ **è®°ä½**ï¼š
- å®‰å…¨ç¬¬ä¸€ï¼ˆAPI Keyï¼‰
- é”™è¯¯å¤„ç†ä¸å¯çœ
- Token ä¼˜åŒ–çœæˆæœ¬
- æ—¥å¿—è°ƒè¯•å¥½å¸®æ‰‹

---

**ç¥ä½ å¼€å‘é¡ºåˆ©ï¼ğŸš€**
