# Module 4.1 - Skills 概念与触发机制

> **学习目标**：理解 Skills 的定位、触发规则与配置方式，为后续编写 SKILL.md 打好基础。

## 为什么需要 Skills？

在 Module 1-3 中，我们学会了让 Agent 使用工具与环境交互。但在实际工作中还有两个痛点：

- **重复指导成本高**：每次都要解释“怎么做”和“输出格式”。
- **领域知识缺失**：模型不了解你的项目规范、团队标准或业务术语。

**Skills** 解决的问题就是：
- 将“专家流程”和“输出规范”固化为可复用的说明书
- 让 Agent 在合适场景自动触发，减少手动解释

---

## Skills 是什么？

**Skill** 是一个用 `SKILL.md` 描述的专业能力模块，包含：
- 触发描述（什么时候用）
- 工作流程（如何做）
- 输出格式（产出什么）

它的作用类似“内置 SOP”。当用户请求命中触发描述时，Agent 会加载该 Skill 并执行其中的流程。

---

## Skills vs Slash Commands

| 维度 | Skills | Slash Commands |
|------|--------|----------------|
| 触发方式 | 自动触发 | 手动触发（/xxx） |
| 使用场景 | 专业化流程、规范输出 | 快捷操作、固定命令 |
| 配置位置 | `SKILL.md` | CLI 配置或工具脚本 |
| 例子 | 代码审查、需求拆分 | `/commit`、`/test` |

---

## Skills 的存放位置

Skill 可以放在项目级或个人级：

```
项目级：.claude/skills/<skill-name>/SKILL.md
个人级：~/.claude/skills/<skill-name>/SKILL.md
```

项目级 Skills 会随仓库一起共享，非常适合团队标准化流程。

---

## SKILL.md 的基本结构

建议使用 YAML 头部描述触发条件与元信息：

```yaml
---
name: code-reviewer
description: Review code changes and report bugs, risks, and missing tests.
tools:
  - Read
  - Bash
---
```

正文部分用于描述具体流程与输出规范。

---

## 在 SDK 中启用 Skills

Claude Agent SDK 需要开启 setting_sources 才能加载 Skills：

```python
options = ClaudeAgentOptions(
    setting_sources=["user", "project"],
    allowed_tools=["Skill", "Read", "Bash"]
)
```

- `setting_sources` 用于决定从用户级/项目级加载 Skills。
- `Skill` 工具用于触发技能执行。

---

## 适用场景

✅ **适合 Skills 的任务**
- 代码审查
- 需求拆分
- 日报/周报生成
- 安全检查清单

❌ **不适合 Skills 的任务**
- 极短一次性回答
- 创意写作
- 需要高度灵活的探索型任务

---

## 下一步

继续阅读：
- **[02_代码示例.md](02_代码示例.md)** - 编写 SKILL.md 并在 SDK 中使用
- **[03_最佳实践.md](03_最佳实践.md)** - 设计高质量 Skills 的方法

🏗️ **实战项目**：
前往 [project_01_code_reviewer](../projects/project_01_code_reviewer/) 实现代码审查 Skill。
